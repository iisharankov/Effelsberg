%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% LaTeX Template: Project Titlepage Modified (v 0.1) by rcx
%
% Original Source: http://www.howtotex.com
% Date: February 2014
% 
% This is a title page template which be used for articles & reports.
% 
% This is the modified version of the original Latex template from
% aforementioned website.
% 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\documentclass[12pt]{report}
\usepackage[a4paper]{geometry}
\usepackage[myheadings]{fullpage}
\usepackage{lastpage}
\usepackage{graphicx, wrapfig, subcaption, setspace, booktabs}
\usepackage[T1]{fontenc}
\usepackage[font=small, labelfont=bf]{caption}
\usepackage[protrusion=true, expansion=true]{microtype}
\usepackage[english]{babel}
\usepackage{sectsty}
\usepackage{url, lipsum}
\usepackage{inputenc}
\usepackage{lmodern}


\newcommand{\HRule}[1]{\rule{\linewidth}{#1}}
\onehalfspacing
\setcounter{tocdepth}{5}
\setcounter{secnumdepth}{5}

%-------------------------------------------------------------------------------
% TITLE PAGE
%-------------------------------------------------------------------------------
\usepackage{listings}
\usepackage{color}

\definecolor{dkgreen}{rgb}{0,0.5,0}
\definecolor{gray}{rgb}{0.6,0.6,0}
\definecolor{mauve}{rgb}{0.58,0,0.82}

\lstset{frame=tb,
  language=Python,
  aboveskip=3mm,
  belowskip=3mm,
  showstringspaces=false,
  columns=flexible,
  basicstyle={\small\ttfamily},
  numbers=none,
  numberstyle=\color{red},
  keywordstyle=\color{blue},
  commentstyle=\color{dkgreen},
  stringstyle=\color{mauve},
  breaklines=true,
  breakatwhitespace=true,
  tabsize=3,
  otherkeywords={self},             % Add keywords here
  keywordstyle=\color{blue},
  emph={Class,__init__},          % Custom highlighting
 emphstyle=\color{red},    % Custom highlighting style
  %emph={1,2,3,4,5,6,7,8,9},          % Custom highlighting
  %emphstyle=\color{red},    % Custom highlighting style
  %stringstyle=\color{green},
}



    
\begin{document}

\title{ \normalsize \textsc{Effelsberg 100m Radio Telescope}
		\\ [2.0cm]
		\HRule{0.5pt} \\
		\LARGE \textbf{\uppercase{Subreflector Program \\Users Manual}}
		\HRule{2pt} \\ [0.5cm]
		\normalsize \today \vspace*{5\baselineskip}}

\date{}

\author{
		Created by: Ivan Sharankov \\ 
		Contact: ivansharankov3@gmail.com \\
		}

\maketitle
\tableofcontents
\newpage

%-------------------------------------------------------------------------------
% Section title formatting
\sectionfont{\scshape}
%-------------------------------------------------------------------------------

%-------------------------------------------------------------------------------
% BODY
%-------------------------------------------------------------------------------

\newpage
\section*{Command Structure}
\addcontentsline{toc}{section}{Command Structure}


All commands should start with the following structure:

\begin{center}
EFFELSBERG:MTSUBREFLECTOR:[command]:[subcommand]
\end{center} 

Where [command] \& [subcommand] are entries defined below in sections

\newpage
\section*{Commands}
\addcontentsline{toc}{section}{Commands}
\subsection*{INTERLOCK}
\addcontentsline{toc}{subsection}{INTERLOCK}

	\begin{itemize}
	
		\item[] {\bf{ACTIVATE}}
			\subitem {Activates the Interlock}
			
		\item[] {\bf{DEACTIVATE}}
			\subitem{Deactivates the Interlock}
			
		\item[] {\bf{SET float}}
			\begin{itemize}
				\item[] {Given one float (or int) value, sets the interlock elevation to the desired value. Value should be able to be converted 
				to float, and must be provided otherwise error is returned}
			\end{itemize}			
		\item[] {\bf{GET}}
			\subitem{Reads out the interlock elevation from the
 last received multicast message}
			
	\end{itemize}
	
\newpage
\hspace{-22px} 
\subsection*{HEXAPOD}
\addcontentsline{toc}{subsection}{HEXAPOD}

	\begin{itemize}
	
		\item[] {\bf{SETABS float float float float float float float float}}
			\begin{itemize}
				\item[] {SETABS takes 8 floats expecting the following order:}
				
				\subitem {x\_lin  \hspace{4px}  y\_lin  \hspace{4px}  z\_lin  \hspace{4px}  v\_lin  \hspace{4px} 
				                    x\_rot \hspace{4px}  y\_rot \hspace{4px}  z\_rot \hspace{4px}  v\_rot}
				\item[]  {\textit{Note: Current implementation requires both linear and rotational axis to be filled. This may be patched in the 
				future to give the option to only fill one axis.}}
				\item[] {All 6 values (velocities excluded) are checked to be within accepted safety margins of the MT Subreflector. If any fail, 
				error is returned. Software trims edges of limits slightly due to a difficult bug caused if the motors surpass their axis limits (the MT Subreflector should check for these too, but issues have came up still). Limits of 6 axis are : \\ 
				x\_lin: between -225 mm and 225 mm \\
				y\_lin: between -175 mm and 175 mm \\
				z\_lin: between -195 mm and 45 mm \\
				x\_rot, \hspace{2px} y\_rot, \hspace{2px} z\_rot: between -0.95 deg and 0.95 deg}
				
			\end{itemize}
			

		\item[] {\bf{GETABS}}
			\subitem {Reads out the absolute positions of the 6 hexapod rotors in the following order:}
			\subsubitem {x\_lin  \hspace{4px}  y\_lin  \hspace{4px}  z\_lin  \hspace{4px} 
							 x\_rot \hspace{4px}  y\_rot \hspace{4px}  z\_rot}
                        
                        
		\item[] {\bf{SETREL float float float float float float float float }}
			\begin{itemize}
				\item[] {SETREL takes 8 floats expecting the following order:}
				
				\subitem {x\_lin  \hspace{4px}  y\_lin  \hspace{4px}  z\_lin  \hspace{4px}  v\_lin  \hspace{4px} 
				                    x\_rot \hspace{4px}  y\_rot \hspace{4px}  z\_rot \hspace{4px}  v\_rot}
				\item[]  {\textit{Note: Current implementation requires both linear and rotational axis to be filled. This may be patched in the 
				future to give the option to only fill one axis.}}
				\item[] {All 6 values (velocities excluded) are  added to the current values of the motors found from an internal reference 
				similar to GETABS. Values are appended to current values and checked to be within accepted safety margins of the MT
				 Subreflector. If any fail, error is returned. Software trims edges of limits slightly due to a difficult bug caused if the 
				 motors surpass their axis limits (the MT Subreflector should check for these too, but issues have came up still). 
				 Limits of 6 axis are : \\ 
				x\_lin: between -225 mm and 225 mm \\
				y\_lin: between -175 mm and 175 mm \\
				z\_lin: between -195 mm and 45 mm \\
				x\_rot, \hspace{2px} y\_rot, \hspace{2px} z\_rot: between -0.95 deg and 0.95 deg}
				
			\end{itemize}
			
		\item[] {\bf{DEACTIVATE}}
			\subitem{Deactivates the hexapod}
			
		\item[] {\bf{ACTIVATE}}
			\subitem{Activates the hexapod}

		\item[] {\bf{STOP}}
			\subitem{Immediately stops the hexapod?}

		\item[] {\bf{INTERLOCK}}
			\subitem{We currently have no idea what this command does, the resources we have do not define it well}

		\item[] {\bf{?}}
			\subitem{Returns all the possible hexapod commands that can be used}
\end{itemize}
 
\newpage
\hspace{-22px}  
\subsection*{ASF}
\addcontentsline{toc}{subsection}{ASF}

	\begin{itemize}
	
			\item[] {\bf{REST}}
			\subitem{-----}
			
		\item[] {\bf{PRESET}}
			\subitem{-----}

		\item[] {\bf{AUTO}}
			\subitem{-----}

		\item[] {\bf{OFFSET}}
			\subitem{-----}
			
		\item[] {\bf{IGNORE}}
			\subitem{Ignore any command input for asf}
			
		\item[] {\bf{DEACTIVATE}}
			\subitem{Deactivates the asf }

		\item[] {\bf{STOP}}
			\subitem{Immediately stops the asf?}

		\item[] {\bf{ERROR}}
			\subitem{Acknowledges any errors produced by the asf to be dismissed}

		\item[] {\bf{?}}
			\subitem{Returns all the possible asf commands that can be used}
\end{itemize}


\newpage
\hspace{-22px}  
\subsection*{POLAR}
\addcontentsline{toc}{subsection}{POLAR}

	\begin{itemize}
	
			\item[] {\bf{GETABS}}
			\subitem{-----}
			
		\item[] {\bf{SETABS}}
			\subitem{-----}

		\item[] {\bf{SETREL}}
			\subitem{-----}
					
		\item[] {\bf{ACTIVATE}}
			\subitem{Activates the polar}
			
		\item[] {\bf{IGNORE}}
			\subitem{-----}
				
		\item[] {\bf{DEACTIVATE}}
			\subitem{Deactivates the polar}

		\item[] {\bf{STOP}}
			\subitem{Immediately stops polar?}

		\item[] {\bf{ERROR}}
			\subitem{Acknowledges any errors produced by the asf to be dismissed}

		\item[] {\bf{?}}
			\subitem{Returns all the possible asf commands that can be used}
\end{itemize}
'message type not recognized. Correct types for polar' \
                       'are: "GETABS", "SETABS", "SETREL", 

\iffalse
 elif "DEACTIVATE" in subcommand:
            logging.debug("Hexapod deactivation command given")
            self.mtcommand_client.deactivate_hxpd()
        elif "ACTIVATE" in subcommand:
            logging.debug("Hexapod activation command given")
            self.mtcommand_client.activate_hxpd()
        elif "STOP" in subcommand:
            logging.debug("Hexapod stop command given")
            self.mtcommand_client.stop_hxpd()
        elif "INTERLOCK" in subcommand:
            logging.debug("Hexapod interlock command given")
            self.mtcommand_client.interlock_hxpd()
        elif "ERROR" in subcommand:
            logging.debug("Hexapod acknowledge error command given")
            self.mtcommand_client.acknowledge_error_on_hxpd()
        elif "?" in subcommand:
            self.msg = 'Usable types for hexapod are: "GETABS", "SETABS", ' \
                       '"SETREL", "ACTIVATE", "DEACTIVATE", ' \
                       '"STOP", "INTERLOCK", "ERROR".'
\fi






%-------------------------------------------------------------------------------
% REFERENCES
%-------------------------------------------------------------------------------
\newpage
\subsection*{References}
\addcontentsline{toc}{section}{References}

Anand, U., 2010. The Elusive Free Radicals, \textit{The Clinical Chemist,} [e-journal] Available at:<\url{http://www.clinchem.org/content/56/10/1649.full.pdf}> [Accessed 2 November 2013]






\iffalse
 \begin{lstlisting}
   //Java program to demonstrate FileNotFoundException 
import java.io.File; 
import java.io.FileNotFoundException; 
import java.io.FileReader; 
 class File_notFound_Demo { 
  
    public static void main(String args[])  { 
        try { 
  
            // Following file does not exist 
            File file = new File("E://file.txt"); 
  
            FileReader fr = new FileReader(file); 
        } catch (FileNotFoundException e) { 
           System.out.println("File does not exist"); 
        } 
    } 
} 
    \end{lstlisting}

\fi

\end{document}

%-------------------------------------------------------------------------------
% SNIPPETS
%-------------------------------------------------------------------------------

%\begin{figure}[!ht]
%	\centering
%	\includegraphics[width=0.8\textwidth]{file_name}
%	\caption{}
%	\centering
%	\label{label:file_name}
%\end{figure}

%\begin{figure}[!ht]
%	\centering
%	\includegraphics[width=0.8\textwidth]{graph}
%	\caption{Blood pressure ranges and associated level of hypertension (American Heart Association, 2013).}
%	\centering
%	\label{label:graph}
%\end{figure}

%\begin{wrapfigure}{r}{0.30\textwidth}
%	\vspace{-40pt}
%	\begin{center}
%		\includegraphics[width=0.29\textwidth]{file_name}
%	\end{center}
%	\vspace{-20pt}
%	\caption{}
%	\label{label:file_name}
%\end{wrapfigure}

%\begin{wrapfigure}{r}{0.45\textwidth}
%	\begin{center}
%		\includegraphics[width=0.29\textwidth]{manometer}
%	\end{center}
%	\caption{Aneroid sphygmomanometer with stethoscope (Medicalexpo, 2012).}
%	\label{label:manometer}
%\end{wrapfigure}

%\begin{table}[!ht]\footnotesize
%	\centering
%	\begin{tabular}{cccccc}
%	\toprule
%	\multicolumn{2}{c} {Pearson's correlation test} & \multicolumn{4}{c} {Independent t-test} \\
%	\midrule	
%	\multicolumn{2}{c} {Gender} & \multicolumn{2}{c} {Activity level} & \multicolumn{2}{c} {Gender} \\
%	\midrule
%	Males & Females & 1st level & 6th level & Males & Females \\
%	\midrule
%	\multicolumn{2}{c} {BMI vs. SP} & \multicolumn{2}{c} {Systolic pressure} & \multicolumn{2}{c} {Systolic Pressure} \\
%	\multicolumn{2}{c} {BMI vs. DP} & \multicolumn{2}{c} {Diastolic pressure} & \multicolumn{2}{c} {Diastolic pressure} \\
%	\multicolumn{2}{c} {BMI vs. MAP} & \multicolumn{2}{c} {MAP} & \multicolumn{2}{c} {MAP} \\
%	\multicolumn{2}{c} {W:H ratio vs. SP} & \multicolumn{2}{c} {BMI} & \multicolumn{2}{c} {BMI} \\
%	\multicolumn{2}{c} {W:H ratio vs. DP} & \multicolumn{2}{c} {W:H ratio} & \multicolumn{2}{c} {W:H ratio} \\
%	\multicolumn{2}{c} {W:H ratio vs. MAP} & \multicolumn{2}{c} {\% Body fat} & \multicolumn{2}{c} {\% Body fat} \\
%	\multicolumn{2}{c} {} & \multicolumn{2}{c} {Height} & \multicolumn{2}{c} {Height} \\
%	\multicolumn{2}{c} {} & \multicolumn{2}{c} {Weight} & \multicolumn{2}{c} {Weight} \\
%	\multicolumn{2}{c} {} & \multicolumn{2}{c} {Heart rate} & \multicolumn{2}{c} {Heart rate} \\
%	\bottomrule
%	\end{tabular}
%	\caption{Parameters that were analysed and related statistical test performed for current study. BMI - body mass index; SP - systolic pressure; DP - diastolic pressure; MAP - mean arterial pressure; W:H ratio - waist to hip ratio.}
%	\label{label:tests}
%\end{table}